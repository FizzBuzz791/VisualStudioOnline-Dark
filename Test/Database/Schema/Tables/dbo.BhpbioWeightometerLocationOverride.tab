/****** Object:  Table [dbo].[BhpbioWeightometerLocationOverride]    ******/

IF  EXISTS (SELECT * FROM sys.foreign_keys WHERE object_id = OBJECT_ID(N'[dbo].[FK1_WEIGHTOMETER_LOCATION_OVERRIDE]') AND parent_object_id = OBJECT_ID(N'[dbo].[BhpbioWeightometerLocationOverride]'))
ALTER TABLE [dbo].[BhpbioWeightometerLocationOverride] DROP CONSTRAINT [FK1_WEIGHTOMETER_LOCATION_OVERRIDE]
GO

IF  EXISTS (SELECT * FROM sys.foreign_keys WHERE object_id = OBJECT_ID(N'[dbo].[FK2_WEIGHTOMETER_LOCATION_OVERRIDE]') AND parent_object_id = OBJECT_ID(N'[dbo].[BhpbioWeightometerLocationOverride]'))
ALTER TABLE [dbo].[BhpbioWeightometerLocationOverride] DROP CONSTRAINT [FK2_WEIGHTOMETER_LOCATION_OVERRIDE]
GO

IF  EXISTS (SELECT * FROM sys.foreign_keys WHERE object_id = OBJECT_ID(N'[dbo].[FK3_WEIGHTOMETER_LOCATION_OVERRIDE]') AND parent_object_id = OBJECT_ID(N'[dbo].[BhpbioWeightometerLocationOverride]'))
ALTER TABLE [dbo].[BhpbioWeightometerLocationOverride] DROP CONSTRAINT [FK3_WEIGHTOMETER_LOCATION_OVERRIDE]
GO


IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[BhpbioWeightometerLocationOverride]') AND type in (N'U'))
DROP TABLE [dbo].[BhpbioWeightometerLocationOverride]
GO

CREATE TABLE [dbo].[BhpbioWeightometerLocationOverride](
	[Weightometer_Location_Override_Id]		INT IDENTITY(1,1) NOT NULL,
	[Weightometer_Id]						VARCHAR(31) NOT NULL,
	[Location_Type_Id]					TINYINT NOT NULL,
	[Location_Id]						INT NOT NULL,
	[FromMonth]							DATETIME NOT NULL,
	[ToMonth]							DATETIME NULL,
 CONSTRAINT [PK_Weightometer_LOCATION_OVERRIDE_ID] PRIMARY KEY CLUSTERED 
(
	[Weightometer_Location_Override_Id] ASC
)WITH (PAD_INDEX  = OFF, STATISTICS_NORECOMPUTE  = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS  = ON, ALLOW_PAGE_LOCKS  = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

ALTER TABLE [dbo].[BhpbioWeightometerLocationOverride]  WITH CHECK ADD  CONSTRAINT [FK1_WEIGHTOMETER_LOCATION_OVERRIDE] FOREIGN KEY([Weightometer_Id])
REFERENCES [dbo].[Weightometer] ([Weightometer_Id])
GO

ALTER TABLE [dbo].[BhpbioWeightometerLocationOverride] CHECK CONSTRAINT [FK1_WEIGHTOMETER_LOCATION_OVERRIDE]
GO

ALTER TABLE [dbo].[BhpbioWeightometerLocationOverride]  WITH CHECK ADD  CONSTRAINT [FK2_WEIGHTOMETER_LOCATION_OVERRIDE] FOREIGN KEY([Location_Id])
REFERENCES [dbo].[Location] ([Location_Id])
GO

ALTER TABLE [dbo].[BhpbioWeightometerLocationOverride] CHECK CONSTRAINT [FK2_WEIGHTOMETER_LOCATION_OVERRIDE]
GO

ALTER TABLE [dbo].[BhpbioWeightometerLocationOverride]  WITH CHECK ADD  CONSTRAINT [FK3_WEIGHTOMETER_LOCATION_OVERRIDE] FOREIGN KEY([Location_Type_Id])
REFERENCES [dbo].[LocationType] ([Location_Type_Id])
GO

ALTER TABLE [dbo].[BhpbioWeightometerLocationOverride] CHECK CONSTRAINT [FK3_WEIGHTOMETER_LOCATION_OVERRIDE]
GO

